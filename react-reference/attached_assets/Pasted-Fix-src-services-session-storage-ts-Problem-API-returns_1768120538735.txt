Fix src/services/session-storage.ts

  Problem: API returns { chats: [...] } but code expects [...] directly. Also uses wrong field name (sessionId vs chatId).

  1. Update getSessions() method - Find this section and replace:

  async getSessions(): Promise<Session[]> {
    if (!CHAT_API_URL || !cachedToken) {
      console.log('getSessions: No API URL or token configured')
      return []
    }

    try {
      const response = await fetch(`${CHAT_API_URL}/chats`, {
        method: 'GET',
        headers: {
          'Authorization': `Bearer ${cachedToken}`,
          'Content-Type': 'application/json'
        }
      })

      if (!response.ok) {
        console.error('Failed to fetch sessions:', response.status)
        return []
      }

      const result = await response.json()

      // FIX: API returns { chats: [...] } wrapper
      const data = Array.isArray(result) ? result : (result.chats || [])

      return data.map((chat: any) => ({
        id: chat.chatId,  // FIX: API returns chatId, not sessionId
        title: chat.title || 'Untitled',
        createdAt: new Date(chat.createdAt),
        updatedAt: new Date(chat.updatedAt),
        messages: (chat.messages || []).map((m: any) => ({
          ...m,
          timestamp: new Date(m.timestamp)
        }))
      }))
    } catch (error) {
      console.error('Failed to fetch sessions:', error)
      return []
    }
  }

  2. Update getSession() method - change chat.sessionId to chat.chatId:

  // In getSession(), change the return mapping:
  return {
    id: chat.chatId,  // was: chat.sessionId
    title: chat.title || 'Untitled',
    // ... rest stays the same
  }

  3. Update ApiChat interface:

  interface ApiChat {
    chatId: string      // was: sessionId
    title?: string
    createdAt: string
    updatedAt: string
    lastMessage?: string
    messageCount?: number
    messages?: Array<{
      id: string
      role: 'user' | 'assistant'
      content: string
      timestamp: string
    }>
  }