 Fix: Paginate Chat History by Day

  Problem

  Chat history shows ALL chats, making the sidebar very long and hard to navigate.

  Solution

  Show only 3-4 chats per day section with "Load More" / "Load Less" toggle buttons.

  Implementation

  File: src/components/ChatSidebar.tsx (or wherever the chat history is rendered)

  import { useState } from 'react'

  const INITIAL_CHATS_PER_DAY = 3

  interface ChatsByDay {
    [date: string]: Session[]
  }

  function ChatHistorySection({ date, chats, onSelectChat, onDeleteChat }: {
    date: string
    chats: Session[]
    onSelectChat: (id: string) => void
    onDeleteChat: (id: string) => void
  }) {
    const [expanded, setExpanded] = useState(false)

    const visibleChats = expanded ? chats : chats.slice(0, INITIAL_CHATS_PER_DAY)
    const hasMore = chats.length > INITIAL_CHATS_PER_DAY
    const hiddenCount = chats.length - INITIAL_CHATS_PER_DAY

    return (
      <div className="mb-4">
        {/* Date header */}
        <div className="flex items-center gap-2 text-sm text-gray-500 mb-2">
          <CalendarIcon className="w-4 h-4" />
          <span>{date}</span>
        </div>

        {/* Chat list */}
        <div className="space-y-1">
          {visibleChats.map(chat => (
            <ChatItem 
              key={chat.id} 
              chat={chat} 
              onSelect={onSelectChat}
              onDelete={onDeleteChat}
            />
          ))}
        </div>

        {/* Load More / Load Less button */}
        {hasMore && (
          <button
            onClick={() => setExpanded(!expanded)}
            className="w-full mt-2 py-1.5 text-xs text-indigo-600 hover:text-indigo-800
                       hover:bg-indigo-50 rounded transition-colors flex items-center justify-center gap-1"
          >
            {expanded ? (
              <>
                <ChevronUpIcon className="w-3 h-3" />
                Show Less
              </>
            ) : (
              <>
                <ChevronDownIcon className="w-3 h-3" />
                Load More ({hiddenCount} more)
              </>
            )}
          </button>
        )}
      </div>
    )
  }

  // Main component usage
  function ChatSidebar({ sessions, ... }) {
    // Group sessions by day
    const chatsByDay = useMemo(() => {
      const grouped: ChatsByDay = {}

      sessions.forEach(session => {
        const date = new Date(session.createdAt)
        const dateKey = isToday(date) ? 'Today'
                      : isYesterday(date) ? 'Yesterday'
                      : format(date, 'MMM d, yyyy')

        if (!grouped[dateKey]) {
          grouped[dateKey] = []
        }
        grouped[dateKey].push(session)
      })

      return grouped
    }, [sessions])

    return (
      <div className="overflow-y-auto">
        {Object.entries(chatsByDay).map(([date, chats]) => (
          <ChatHistorySection
            key={date}
            date={date}
            chats={chats}
            onSelectChat={loadSession}
            onDeleteChat={deleteSession}
          />
        ))}
      </div>
    )
  }

  Key Features

  1. Initial State: Shows only 3 chats per day
  2. Load More: Click to show all chats for that day, displays "(X more)"
  3. Load Less: Click to collapse back to 3 chats
  4. Per-Section Toggle: Each day section has its own expand/collapse state

  Visual Design

  ğŸ“… Today
  â”œâ”€â”€ Test new chat creation      ğŸ—‘ï¸
  â”œâ”€â”€ Hi
  â”œâ”€â”€ Hello, this is a persis...
  â””â”€â”€ [â–¼ Load More (25 more)]

  ğŸ“… Yesterday
  â”œâ”€â”€ Create a product named...
  â”œâ”€â”€ List categories
  â”œâ”€â”€ Create a product called...
  â””â”€â”€ [â–¼ Load More (12 more)]

  ---
  This will make the sidebar much cleaner and easier to navigate!